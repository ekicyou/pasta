## 6.2 – 基本関数（パートD: select-type）

---

### select (index, ···)

`index` が数値の場合、引数番号 `index` より後のすべての引数を返します。負の数は末尾からインデックスします（-1 は最後の引数）。そうでなければ、`index` は文字列 `"#"` でなければならず、`select` は受け取った追加引数の総数を返します。

---

### setmetatable (table, metatable)

与えられたテーブルにメタテーブルを設定します。`metatable` が **nil** の場合、与えられたテーブルのメタテーブルを削除します。元のメタテーブルに `__metatable` フィールドがある場合、エラーを発生させます。

この関数は `table` を返します。

Luaコードから他の型のメタテーブルを変更するには、デバッグライブラリ（[§6.11](#611--デバッグライブラリ)）を使用する必要があります。

---

### tonumber (e [, base])

`base` なしで呼び出された場合、`tonumber` は引数を数値に変換しようとします。引数が既に数値であるか、数値に変換可能な文字列である場合、`tonumber` はこの数値を返します。そうでなければ、**fail** を返します。

文字列の変換は、Luaの字句規則（[§3.1](03-the-language.md#31--字句規則) 参照）に従って、整数または浮動小数点数になります。文字列は先頭と末尾にスペースと符号を持つことができます。

`base` で呼び出された場合、`e` はその基数での整数数値として解釈される文字列でなければなりません。基数は2から36までの任意の整数です。10を超える基数では、文字 '`A`'（大文字または小文字）は 10 を表し、'`B`' は 11 を表し、以下同様に '`Z`' が 35 を表します。文字列 `e` が与えられた基数での有効な数値でない場合、関数は **fail** を返します。

---

### tostring (v)

任意の型の値を受け取り、人間が読める形式の文字列に変換します。

`v` のメタテーブルに `__tostring` フィールドがある場合、`tostring` は `v` を引数として対応する値を呼び出し、呼び出しの結果をその結果として使用します。そうでなければ、`v` のメタテーブルに文字列値を持つ `__name` フィールドがある場合、`tostring` はその文字列を最終結果に使用することがあります。

数値の変換方法を完全に制御するには、[`string.format`](#pdf-stringformat) を使用してください。

---

### type (v)

唯一の引数の型を文字列としてエンコードして返します。この関数の可能な結果は：
- `"nil"`（文字列であり、値 **nil** ではありません）
- `"number"`
- `"string"`
- `"boolean"`
- `"table"`
- `"function"`
- `"thread"`
- `"userdata"`
