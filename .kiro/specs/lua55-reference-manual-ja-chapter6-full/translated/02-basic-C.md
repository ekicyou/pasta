## 6.2 – 基本関数（パートC: next-rawset）

---

### next (table [, index])

プログラムがテーブルのすべてのフィールドを走査できるようにします。最初の引数はテーブルで、2番目の引数はこのテーブル内のインデックスです。`next` の呼び出しは、テーブルの次のインデックスとその関連付けられた値を返します。2番目の引数として **nil** で呼び出された場合、`next` は初期インデックスとその関連付けられた値を返します。最後のインデックスで呼び出された場合、または空のテーブルで **nil** で呼び出された場合、`next` は **nil** を返します。2番目の引数が省略された場合、**nil** として解釈されます。特に、`next(t)` を使用してテーブルが空かどうかをチェックできます。

インデックスが列挙される順序は、*数値インデックスであっても*指定されていません。（テーブルを数値順に走査するには、数値 **for** を使用してください。）

走査中にテーブルの存在しないフィールドに値を代入すべきではありません。ただし、既存のフィールドを変更することはできます。特に、既存のフィールドを nil に設定することができます。

---

### pairs (t)

`t` がメタメソッド `__pairs` を持つ場合、`t` を引数として呼び出し、呼び出しからの最初の4つの結果を返します。

そうでなければ、[`next`](#next-table--index) 関数、テーブル `t`、さらに2つの **nil** 値を返し、以下の構文が

```lua
for k,v in pairs(t) do body end
```

テーブル `t` のすべてのキー・値ペアを反復するようにします。

走査中にテーブルを変更する際の注意事項については、関数 [`next`](#next-table--index) を参照してください。

---

### pcall (f [, arg1, ···])

与えられた引数で関数 `f` を*保護モード*で呼び出します。これは、`f` 内のエラーが伝播されないことを意味します。代わりに、`pcall` はエラーをキャッチしてステータスコードを返します。最初の結果はステータスコード（ブール値）で、呼び出しがエラーなく成功した場合は **true** です。その場合、`pcall` はこの最初の結果の後に呼び出しからのすべての結果も返します。エラーの場合、`pcall` は **false** とエラーオブジェクトを返します。`pcall` によってキャッチされたエラーはメッセージハンドラを呼び出さないことに注意してください。

---

### print (···)

任意の数の引数を受け取り、[`tostring`](#tostring-v) と同じルールに従って各引数を文字列に変換し、その値を `stdout` に出力します。

関数 `print` はフォーマットされた出力を目的としておらず、例えばデバッグ用に値を素早く表示する方法としてのみ意図されています。出力を完全に制御するには、[`string.format`](#pdf-stringformat) と [`io.write`](#pdf-iowrite) を使用してください。

---

### rawequal (v1, v2)

`__eq` メタメソッドを呼び出さずに、`v1` が `v2` と等しいかどうかをチェックします。ブール値を返します。

---

### rawget (table, index)

`__index` メタ値を使用せずに、`table[index]` の実際の値を取得します。`table` はテーブルでなければなりません。`index` は任意の値です。

---

### rawlen (v)

`__len` メタメソッドを呼び出さずに、オブジェクト `v` の長さを返します。`v` はテーブルまたは文字列でなければなりません。整数を返します。

---

### rawset (table, index, value)

`__newindex` メタ値を使用せずに、`table[index]` の実際の値を `value` に設定します。`table` はテーブルでなければならず、`index` は **nil** と NaN 以外の任意の値で、`value` は任意のLua値です。

この関数は `table` を返します。
