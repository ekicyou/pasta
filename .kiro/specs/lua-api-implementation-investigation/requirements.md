# Requirements Document

## Project Description (Input)
ç¾åœ¨ã®ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆï¼ˆsample.generated.luaï¼‰ã‹ã‚‰å‘¼ã°ã‚Œã¦ã„ã‚‹å„é–¢æ•°ã«ã¤ã„ã¦ã€Luaå´ã®å®Ÿè£…çŠ¶æ³ã‚’å¾¹åº•çš„ã«èª¿æŸ»ã—ã€ãƒ¬ãƒãƒ¼ãƒˆã™ã‚‹ã€‚actã«ã¤ã„ã¦ã¯ACTOR_IMPLã‚’èª¿æŸ»å¯¾è±¡ã¨ã™ã‚‹ã€‚

---

# èª¿æŸ»ãƒ¬ãƒãƒ¼ãƒˆ: Lua API å®Ÿè£…çŠ¶æ³ï¼ˆæ”¹è¨‚ç‰ˆï¼‰

## 1. èª¿æŸ»å¯¾è±¡ãƒ•ã‚¡ã‚¤ãƒ«

- **å¯¾è±¡**: [sample.generated.lua](../../../crates/pasta_lua/tests/fixtures/sample.generated.lua)
- **èª¿æŸ»æ—¥**: 2026-01-28ï¼ˆæ”¹è¨‚ï¼‰
- **èª¿æŸ»ç¯„å›²**: ãƒˆãƒ©ãƒ³ã‚¹ãƒ‘ã‚¤ãƒ©ç”Ÿæˆã‚³ãƒ¼ãƒ‰ã‹ã‚‰å‘¼ã³å‡ºã•ã‚Œã‚‹PASTA/ACT API

---

## 2. APIå‘¼ã³å‡ºã—ä¸€è¦§ã¨å®Ÿè£…çŠ¶æ³

### 2.1 PASTAãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«APIï¼ˆã‚°ãƒ­ãƒ¼ãƒãƒ«ï¼‰

| API                        | å‘¼ã³å‡ºã—ä¾‹                     | å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«                                                             | å®Ÿè£…çŠ¶æ…‹   |
| -------------------------- | ------------------------------ | ------------------------------------------------------------------------ | ---------- |
| `PASTA.create_actor(name)` | `PASTA.create_actor("ã•ãã‚‰")` | [actor.lua#L74](../../../crates/pasta_lua/scripts/pasta/actor.lua#L74)   | âœ… å®Œå…¨å®Ÿè£… |
| `PASTA.create_scene(name)` | `PASTA.create_scene("ãƒ¡ã‚¤ãƒ³")` | [scene.lua#L128](../../../crates/pasta_lua/scripts/pasta/scene.lua#L128) | âœ… å®Œå…¨å®Ÿè£… |
| `PASTA.create_word(key)`   | `PASTA.create_word("æŒ¨æ‹¶")`    | [word.lua#L122](../../../crates/pasta_lua/scripts/pasta/word.lua#L122)   | âœ… å®Œå…¨å®Ÿè£… |

### 2.2 ACTOR_IMPLï¼ˆã‚¢ã‚¯ã‚¿ãƒ¼å®Ÿè£…ï¼‰

| API                      | å‘¼ã³å‡ºã—ä¾‹                  | å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«                                                           | å®Ÿè£…çŠ¶æ…‹   |
| ------------------------ | --------------------------- | ---------------------------------------------------------------------- | ---------- |
| `ACTOR:create_word(key)` | `ACTOR:create_word("é€šå¸¸")` | [actor.lua#L58](../../../crates/pasta_lua/scripts/pasta/actor.lua#L58) | âœ… å®Œå…¨å®Ÿè£… |
| `WordBuilder:entry(...)` | `:entry([=[\s[0]]=])`       | [actor.lua#L38](../../../crates/pasta_lua/scripts/pasta/actor.lua#L38) | âœ… å®Œå…¨å®Ÿè£… |

### 2.3 SCENE_TABLE_IMPLï¼ˆã‚·ãƒ¼ãƒ³å®Ÿè£…ï¼‰

| API                                 | å‘¼ã³å‡ºã—ä¾‹                  | å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«                                                             | å®Ÿè£…çŠ¶æ…‹   |
| ----------------------------------- | --------------------------- | ------------------------------------------------------------------------ | ---------- |
| `SCENE:create_word(key)`            | `SCENE:create_word("å ´æ‰€")` | [scene.lua#L23](../../../crates/pasta_lua/scripts/pasta/scene.lua#L23)   | âœ… å®Œå…¨å®Ÿè£… |
| `SCENE.__global_name__`             | ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£å‚ç…§              | [scene.lua#L73](../../../crates/pasta_lua/scripts/pasta/scene.lua#L73)   | âœ… å®Œå…¨å®Ÿè£… |
| `SCENE.search(name, global, attrs)` | å†…éƒ¨ä½¿ç”¨                    | [scene.lua#L155](../../../crates/pasta_lua/scripts/pasta/scene.lua#L155) | âœ… å®Œå…¨å®Ÿè£… |

### 2.4 ACT_IMPLï¼ˆã‚¢ã‚¯ã‚·ãƒ§ãƒ³å®Ÿè£…ï¼‰

| API                                 | å‘¼ã³å‡ºã—ä¾‹ï¼ˆç”Ÿæˆã‚³ãƒ¼ãƒ‰ï¼‰                               | å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«                                                         | å®Ÿè£…çŠ¶æ…‹                    |
| ----------------------------------- | ------------------------------------------------------ | -------------------------------------------------------------------- | --------------------------- |
| `act:init_scene(SCENE)`             | `act:init_scene(SCENE)`                                | [act.lua#L58](../../../crates/pasta_lua/scripts/pasta/act.lua#L58)   | âœ… å®Œå…¨å®Ÿè£…                  |
| `act:clear_spot()`                  | `act:clear_spot()`                                     | [act.lua#L168](../../../crates/pasta_lua/scripts/pasta/act.lua#L168) | âœ… å®Œå…¨å®Ÿè£…                  |
| `act:set_spot(name, num)`           | `act:set_spot("ã•ãã‚‰", 0)`                            | [act.lua#L158](../../../crates/pasta_lua/scripts/pasta/act.lua#L158) | âœ… å®Œå…¨å®Ÿè£…                  |
| `act:call(global, key, attrs, ...)` | `act:call(SCENE.__global_name__, "ä¼šè©±åˆ†å²", {}, ...)` | [act.lua#L117](../../../crates/pasta_lua/scripts/pasta/act.lua#L117) | âœ… **å®Œå…¨å®Ÿè£…ï¼ˆ4æ®µéšæ¤œç´¢ï¼‰** |
| `act:word(name)`                    | `act:word("å ´æ‰€")`                                     | [act.lua#L88](../../../crates/pasta_lua/scripts/pasta/act.lua#L88)   | âš ï¸ éƒ¨åˆ†å®Ÿè£…                  |
| `act:talk(actor, text)`             | å†…éƒ¨ä½¿ç”¨                                               | [act.lua#L68](../../../crates/pasta_lua/scripts/pasta/act.lua#L68)   | âœ… å®Œå…¨å®Ÿè£…                  |
| `act:yield()`                       | `act:yield()`                                          | [act.lua#L99](../../../crates/pasta_lua/scripts/pasta/act.lua#L99)   | âœ… å®Œå…¨å®Ÿè£…                  |
| `act:end_action()`                  | `act:end_action()`                                     | [act.lua#L106](../../../crates/pasta_lua/scripts/pasta/act.lua#L106) | âœ… å®Œå…¨å®Ÿè£…                  |

### 2.5 PROXY_IMPLï¼ˆã‚¢ã‚¯ã‚¿ãƒ¼ãƒ—ãƒ­ã‚­ã‚·å®Ÿè£…ï¼‰

| API                | å‘¼ã³å‡ºã—ä¾‹                | å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«                                                             | å®Ÿè£…çŠ¶æ…‹                            |
| ------------------ | ------------------------- | ------------------------------------------------------------------------ | ----------------------------------- |
| `act.{actor}`      | `act.ã•ãã‚‰`              | [act.lua#L22](../../../crates/pasta_lua/scripts/pasta/act.lua#L22)       | âœ… å®Œå…¨å®Ÿè£…                          |
| `proxy:talk(text)` | `act.ã•ãã‚‰:talk("...")`  | [actor.lua#L108](../../../crates/pasta_lua/scripts/pasta/actor.lua#L108) | âœ… å®Œå…¨å®Ÿè£…                          |
| `proxy:word(name)` | `act.ã•ãã‚‰:word("é€šå¸¸")` | [actor.lua#L163](../../../crates/pasta_lua/scripts/pasta/actor.lua#L163) | âœ… å®Œå…¨å®Ÿè£…ï¼ˆ6ãƒ¬ãƒ™ãƒ«ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ï¼‰ |

---

## 3. `act:call` æ–°å®Ÿè£…è©³ç´°

### 3.1 ã‚·ã‚°ãƒãƒãƒ£ï¼ˆä¿®æ­£æ¸ˆã¿ âœ…ï¼‰

**ç”Ÿæˆã‚³ãƒ¼ãƒ‰ï¼ˆsample.generated.luaï¼‰:**
```lua
act:call(SCENE.__global_name__, "ã‚°ãƒ­ãƒ¼ãƒãƒ«å˜èªå‘¼ã³å‡ºã—", {}, table.unpack(args))
```

**å®Ÿè£…ï¼ˆact.lua#L117-L152ï¼‰:**
```lua
function ACT_IMPL.call(self, global_scene_name, key, attrs, ...)
    -- 4æ®µéšæ¤œç´¢ã§ handler ã‚’å–å¾—
```

**åˆ¤å®š**: âœ… ã‚·ã‚°ãƒãƒãƒ£ä¸€è‡´

### 3.2 4æ®µéšæ¤œç´¢ãƒ­ã‚¸ãƒƒã‚¯

| å„ªå…ˆåº¦  | æ¤œç´¢å¯¾è±¡                                      | å®Ÿè£…çŠ¶æ…‹   | å‚™è€ƒ                           |
| ------- | --------------------------------------------- | ---------- | ------------------------------ |
| Level 1 | `self.current_scene[key]`                     | âœ… å®Ÿè£…æ¸ˆã¿ | ã‚·ãƒ¼ãƒ³ãƒ­ãƒ¼ã‚«ãƒ«æ¤œç´¢             |
| Level 2 | `SCENE.search(key, global_scene_name, attrs)` | âœ… å®Ÿè£…æ¸ˆã¿ | ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚·ãƒ¼ãƒ³åã‚¹ã‚³ãƒ¼ãƒ—æ¤œç´¢ |
| Level 3 | `GLOBAL[key]`                                 | âœ… å®Ÿè£…æ¸ˆã¿ | ã‚°ãƒ­ãƒ¼ãƒãƒ«é–¢æ•°ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«       |
| Level 4 | `SCENE.search(key, nil, attrs)`               | âœ… å®Ÿè£…æ¸ˆã¿ | ã‚¹ã‚³ãƒ¼ãƒ—ãªã—å…¨ä½“æ¤œç´¢           |

### 3.3 attrsãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿

- **ç¾çŠ¶**: `SCENE.search`ã«æ¸¡ã•ã‚Œã‚‹ãŒã€å†…éƒ¨ã§ã¯æœªä½¿ç”¨
- **å°†æ¥**: æ¤œç´¢æ¡ä»¶ãƒ•ã‚£ãƒ«ã‚¿ã¨ã—ã¦æ´»ç”¨äºˆå®š
- **åˆ¤å®š**: âœ… è¨­è¨ˆé€šã‚Š

---

## 4. æ®‹å­˜å•é¡Œç‚¹

### 4.1 âš ï¸ `act:word` ä¸å®Œå…¨å®Ÿè£…

**å®Ÿè£…ï¼ˆact.lua#L88-L97ï¼‰:**
```lua
function ACT_IMPL.word(self, name)
    -- Level 2: SCENEfield
    if self.current_scene and self.current_scene[name] then
        return self.current_scene[name]
    end
    -- Level 3: ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚·ãƒ¼ãƒ³åã§ã®æ¤œç´¢ï¼ˆRusté–¢æ•°å‘¼ã³å‡ºã—äºˆå®šï¼‰
    -- Level 4: å…¨ä½“æ¤œç´¢ï¼ˆRusté–¢æ•°å‘¼ã³å‡ºã—äºˆå®šï¼‰
    return nil -- TODO: Rust search_word çµ±åˆ
```

**å•é¡Œ**: ã‚·ãƒ¼ãƒ³ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®ã¿æ¤œç´¢ã€‚ã‚°ãƒ­ãƒ¼ãƒãƒ«å˜èªè¾æ›¸ã¸ã®æ¤œç´¢æœªå®Ÿè£…ã€‚

**å½±éŸ¿åº¦**: ğŸŸ¡ ä¸­ç¨‹åº¦ - ã‚·ãƒ¼ãƒ³ãƒ­ãƒ¼ã‚«ãƒ«å˜èªã®ã¿å‹•ä½œ

**ä»£æ›¿æ‰‹æ®µ**: `PROXY_IMPL.word`ï¼ˆ6ãƒ¬ãƒ™ãƒ«ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ï¼‰ã¯å®Œå…¨å®Ÿè£…æ¸ˆã¿

### 4.2 âš ï¸ `SCENE.é–¢æ•°` å‘¼ã³å‡ºã—ã§ `ctx` æœªå®šç¾©

**ç”Ÿæˆã‚³ãƒ¼ãƒ‰:**
```lua
save.ã‚°ãƒ­ãƒ¼ãƒãƒ« = SCENE.é–¢æ•°(ctx, 2 + 1)
```

**å•é¡Œ**: `ctx`å¤‰æ•°ãŒã‚¹ã‚³ãƒ¼ãƒ—å†…ã«å­˜åœ¨ã—ãªã„ã€‚

**å½±éŸ¿åº¦**: ğŸŸ¡ ä¸­ç¨‹åº¦ - ãƒ¦ãƒ¼ã‚¶ãƒ¼å®šç¾©é–¢æ•°å‘¼ã³å‡ºã—æ™‚ã«ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã‚¨ãƒ©ãƒ¼

**æ¨å®šåŸå› **: ãƒˆãƒ©ãƒ³ã‚¹ãƒ‘ã‚¤ãƒ©ã®ãƒã‚°ï¼ˆ`act`ã¨ã™ã¹ãã¨ã“ã‚ã‚’`ctx`ã¨å‡ºåŠ›ï¼‰

---

## 5. å®Ÿè£…å“è³ªã‚µãƒãƒªãƒ¼

| ã‚«ãƒ†ã‚´ãƒª         | å®Œå…¨å®Ÿè£… | éƒ¨åˆ†å®Ÿè£… | æœªå®Ÿè£… | åˆè¨ˆ   |
| ---------------- | -------- | -------- | ------ | ------ |
| PASTA API        | 3        | 0        | 0      | 3      |
| ACTOR_IMPL       | 2        | 0        | 0      | 2      |
| SCENE_TABLE_IMPL | 3        | 0        | 0      | 3      |
| ACT_IMPL         | 7        | 1        | 0      | 8      |
| PROXY_IMPL       | 3        | 0        | 0      | 3      |
| **åˆè¨ˆ**         | **18**   | **1**    | **0**  | **19** |

**å®Ÿè£…ç‡**: 94.7%ï¼ˆ18/19 å®Œå…¨å®Ÿè£…ï¼‰

---

## 6. å‰å›èª¿æŸ»ã¨ã®å·®åˆ†

| é …ç›®                   | å‰å›     | ä»Šå›       | å¤‰åŒ–       |
| ---------------------- | -------- | ---------- | ---------- |
| `act:call` ã‚·ã‚°ãƒãƒãƒ£  | âŒ ä¸ä¸€è‡´ | âœ… ä¸€è‡´     | ğŸ”§ ä¿®æ­£æ¸ˆã¿ |
| `act:call` 4æ®µéšæ¤œç´¢   | âŒ æœªå®Ÿè£… | âœ… å®Œå…¨å®Ÿè£… | ğŸ”§ æ–°è¦å®Ÿè£… |
| `GLOBAL`ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«çµ±åˆ | âŒ æœªçµ±åˆ | âœ… çµ±åˆæ¸ˆã¿ | ğŸ”§ æ–°è¦å®Ÿè£… |
| å®Ÿè£…ç‡                 | 86.7%    | 94.7%      | â¬†ï¸ +8.0%    |

---

## 7. æ¨å¥¨ã‚¢ã‚¯ã‚·ãƒ§ãƒ³

### å„ªå…ˆåº¦: ä¸­ ğŸŸ¡

1. **`act:word` å®Œå…¨å®Ÿè£…**
   - ã‚°ãƒ­ãƒ¼ãƒãƒ«å˜èªè¾æ›¸ï¼ˆ`WORD.get_global_words()`ï¼‰ã¸ã®æ¤œç´¢è¿½åŠ 
   - `PROXY_IMPL.word`ã®6ãƒ¬ãƒ™ãƒ«ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ãƒ­ã‚¸ãƒƒã‚¯æµç”¨å¯èƒ½
   - **ç·Šæ€¥åº¦ä½**: ä»£æ›¿ã¨ã—ã¦`proxy:word`ãŒä½¿ç”¨å¯èƒ½

2. **`ctx`å¤‰æ•°å•é¡Œã®èª¿æŸ»**
   - ãƒˆãƒ©ãƒ³ã‚¹ãƒ‘ã‚¤ãƒ©å‡ºåŠ›ã®æ¤œè¨¼ï¼ˆ`SCENE.é–¢æ•°(ctx, ...)` â†’ `SCENE.é–¢æ•°(act, ...)`ï¼‰
   - sample.generated.luaã®ä¿®æ­£ã¾ãŸã¯ãƒˆãƒ©ãƒ³ã‚¹ãƒ‘ã‚¤ãƒ©ä¿®æ­£

---

## 8. é–¢é€£ãƒ•ã‚¡ã‚¤ãƒ«ä¸€è¦§

| ãƒ•ã‚¡ã‚¤ãƒ«                                                         | å½¹å‰²                               |
| ---------------------------------------------------------------- | ---------------------------------- |
| [init.lua](../../../crates/pasta_lua/scripts/pasta/init.lua)     | å…¬é–‹APIã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ          |
| [act.lua](../../../crates/pasta_lua/scripts/pasta/act.lua)       | ACT_IMPLå®Ÿè£…                       |
| [actor.lua](../../../crates/pasta_lua/scripts/pasta/actor.lua)   | ACTOR_IMPL, PROXY_IMPLå®Ÿè£…         |
| [scene.lua](../../../crates/pasta_lua/scripts/pasta/scene.lua)   | SCENE_TABLE_IMPL, SCENE.searchå®Ÿè£… |
| [word.lua](../../../crates/pasta_lua/scripts/pasta/word.lua)     | WordBuilderå®Ÿè£…                    |
| [ctx.lua](../../../crates/pasta_lua/scripts/pasta/ctx.lua)       | CTXç’°å¢ƒã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ                |
| [store.lua](../../../crates/pasta_lua/scripts/pasta/store.lua)   | ãƒ‡ãƒ¼ã‚¿ã‚¹ãƒˆã‚¢                       |
| [global.lua](../../../crates/pasta_lua/scripts/pasta/global.lua) | ã‚°ãƒ­ãƒ¼ãƒãƒ«é–¢æ•°ãƒ†ãƒ¼ãƒ–ãƒ«             |
| [save.lua](../../../crates/pasta_lua/scripts/pasta/save.lua)     | æ°¸ç¶šåŒ–ãƒ‡ãƒ¼ã‚¿                       |

---

## Requirementsï¼ˆEARSå½¢å¼ï¼‰

### Requirement 1: act:call 4æ®µéšæ¤œç´¢ âœ… é”æˆ

When `act:call(global_scene_name, key, attrs, ...)` ãŒå‘¼ã³å‡ºã•ã‚Œã‚‹, the ACT_IMPL shall ä»¥ä¸‹ã®å„ªå…ˆé †ä½ã§æ¤œç´¢ã‚’è¡Œã„ã€æœ€åˆã«è¦‹ã¤ã‹ã£ãŸãƒãƒ³ãƒ‰ãƒ©ãƒ¼ã‚’å®Ÿè¡Œã™ã‚‹:
1. `self.current_scene[key]`
2. `SCENE.search(key, global_scene_name, attrs)`
3. `GLOBAL[key]`
4. `SCENE.search(key, nil, attrs)`

**å—ã‘å…¥ã‚ŒåŸºæº–**: âœ… å…¨ã¦é”æˆ
- ã‚·ãƒ¼ãƒ³ãƒ­ãƒ¼ã‚«ãƒ«é–¢æ•°ãŒå„ªå…ˆã•ã‚Œã‚‹ã“ã¨
- ã‚°ãƒ­ãƒ¼ãƒãƒ«é–¢æ•°ã¸ã®ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ãŒå‹•ä½œã™ã‚‹ã“ã¨
- ãƒãƒ³ãƒ‰ãƒ©ãƒ¼æœªç™ºè¦‹æ™‚ã¯`nil`ã‚’è¿”ã™ã“ã¨

### Requirement 2: act:word å®Œå…¨å®Ÿè£…ï¼ˆæœªé”æˆï¼‰

When `act:word(name)` ãŒå‘¼ã³å‡ºã•ã‚Œã‚‹, the ACT_IMPL shall ä»¥ä¸‹ã®é †åºã§ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯æ¤œç´¢ã‚’è¡Œã†:
1. ã‚·ãƒ¼ãƒ³ãƒ†ãƒ¼ãƒ–ãƒ«ã®å®Œå…¨ä¸€è‡´
2. ã‚·ãƒ¼ãƒ³ãƒ­ãƒ¼ã‚«ãƒ«å˜èªè¾æ›¸ï¼ˆå‰æ–¹ä¸€è‡´ï¼‰
3. ã‚°ãƒ­ãƒ¼ãƒãƒ«å˜èªè¾æ›¸ï¼ˆå‰æ–¹ä¸€è‡´ï¼‰

**å—ã‘å…¥ã‚ŒåŸºæº–**:
- âš ï¸ ã‚°ãƒ­ãƒ¼ãƒãƒ«å˜èªæ¤œç´¢ãŒæœªå®Ÿè£…
- ä»£æ›¿: `PROXY_IMPL.word`ã§6ãƒ¬ãƒ™ãƒ«ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯å¯èƒ½

### Requirement 3: SCENE.é–¢æ•° å¼•æ•°ä»•æ§˜ç¢ºå®šï¼ˆæœªé”æˆï¼‰

When ãƒ¦ãƒ¼ã‚¶ãƒ¼å®šç¾©ã‚·ãƒ¼ãƒ³é–¢æ•°ãŒå‘¼ã³å‡ºã•ã‚Œã‚‹, the ãƒˆãƒ©ãƒ³ã‚¹ãƒ‘ã‚¤ãƒ© shall é©åˆ‡ãªç¬¬1å¼•æ•°ï¼ˆ`act`ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆï¼‰ã‚’æ¸¡ã™ã€‚

**å—ã‘å…¥ã‚ŒåŸºæº–**:
- âš ï¸ `SCENE.é–¢æ•°(ctx, value, ...)` ã¨å‡ºåŠ›ã•ã‚Œã¦ã„ã‚‹ï¼ˆ`act`ãŒæ­£ã—ã„ï¼‰
- ãƒˆãƒ©ãƒ³ã‚¹ãƒ‘ã‚¤ãƒ©å´ã®ä¿®æ­£ãŒå¿…è¦
