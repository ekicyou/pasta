## 6.10 – オペレーティングシステム機能（パートB: getenv-tmpname）

---

### os.remove (filename)

指定された名前のファイル（またはPOSIXシステムでは空のディレクトリ）を削除します。この関数が失敗した場合、**fail** とエラーを説明する文字列およびエラーコードを返します。そうでなければ、true を返します。

---

### os.rename (oldname, newname)

`oldname` という名前のファイルまたはディレクトリを `newname` に名前変更します。この関数が失敗した場合、**fail** とエラーを説明する文字列およびエラーコードを返します。そうでなければ、true を返します。

---

### os.setlocale (locale [, category])

プログラムの現在のロケールを設定します。`locale` はロケールを指定するシステム依存の文字列です。`category` は変更するカテゴリを説明するオプションの文字列です：`"all"`、`"collate"`、`"ctype"`、`"monetary"`、`"numeric"`、または `"time"`。デフォルトのカテゴリは `"all"` です。関数は新しいロケールの名前を返すか、リクエストを処理できない場合は **fail** を返します。

`locale` が空文字列の場合、現在のロケールは実装定義のネイティブロケールに設定されます。`locale` が文字列 "`C`" の場合、現在のロケールは標準Cロケールに設定されます。

最初の引数として **nil** で呼び出された場合、この関数は指定されたカテゴリの現在のロケールの名前のみを返します。

この関数はC関数 `setlocale` に依存するため、スレッドセーフでない場合があります。

---

### os.time ([table])

引数なしで呼び出された場合は現在のローカル時刻を返し、指定されたテーブルで指定されたローカル日付と時刻を表す時刻を返します。このテーブルにはフィールド `year`、`month`、`day` が必要であり、フィールド `hour`（デフォルトは 12）、`min`（デフォルトは 0）、`sec`（デフォルトは 0）、`isdst`（デフォルトは **nil**）を持つことができます。他のフィールドは無視されます。これらのフィールドの説明は [`os.date`](#osdate-format--time) 関数を参照してください。

関数が呼び出されたとき、これらのフィールドの値は有効な範囲内である必要はありません。例えば、`sec` が -10 の場合、他のフィールドで指定された時刻の10秒前を意味します。`hour` が 1000 の場合、他のフィールドで指定された時刻の1000時間後を意味します。

返される値は数値であり、その意味はシステムによって異なります。POSIX、Windows、およびその他一部のシステムでは、この数値は特定の開始時刻（「エポック」）からの秒数をカウントします。他のシステムでは、意味は指定されておらず、`time` が返す数値は [`os.date`](#osdate-format--time) と [`os.difftime`](#osdifftime-t2-t1) への引数としてのみ使用できます。

テーブルで呼び出された場合、`os.time` は [`os.date`](#osdate-format--time) 関数で文書化されているすべてのフィールドを正規化し、呼び出し前と同じ時刻を表しますが、値は有効な範囲内になります。

---

### os.tmpname ()

一時ファイルに使用できるファイル名を含む文字列を返します。ファイルは使用前に明示的に開き、不要になったら明示的に削除する必要があります。

POSIXシステムでは、この関数はセキュリティリスクを避けるため、その名前のファイルも作成します。（名前を取得してからファイルを作成するまでの間に、誰かが間違った権限でファイルを作成する可能性があります。）それでもファイルを使用するには開く必要があり、削除する必要があります（使用しない場合でも）。

可能であれば、プログラムが終了すると自動的にファイルを削除する [`io.tmpfile`](#iotmpfile-) を使用することをお勧めします。
