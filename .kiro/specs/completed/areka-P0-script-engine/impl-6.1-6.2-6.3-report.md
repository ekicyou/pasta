# å®Ÿè£…å®Œäº†å ±å‘Š: Tasks 6.1, 6.2, 6.3

**ãƒ•ã‚£ãƒ¼ãƒãƒ£ãƒ¼**: areka-P0-script-engine  
**ã‚¿ã‚¹ã‚¯**: 6.1 (ã•ãã‚‰ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚¨ã‚¹ã‚±ãƒ¼ãƒ—ã®ãƒ‘ãƒ¼ã‚¹), 6.2 (IRå‡ºåŠ›), 6.3 (äº’æ›æ€§ãƒ†ã‚¹ãƒˆ)  
**æ—¥ä»˜**: 2025-12-10  
**ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: âœ… **å®Œäº†** - å…¨ãƒ†ã‚¹ãƒˆåˆæ ¼

---

## å®Ÿè£…ã‚µãƒãƒªãƒ¼

### Task 6.1: ã•ãã‚‰ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚¨ã‚¹ã‚±ãƒ¼ãƒ—ã®ãƒ‘ãƒ¼ã‚¹

**å®Ÿè£…å†…å®¹**:
- Pestæ–‡æ³•ã§ãƒãƒƒã‚¯ã‚¹ãƒ©ãƒƒã‚·ãƒ¥ã‚¨ã‚¹ã‚±ãƒ¼ãƒ—ã‚·ãƒ¼ã‚±ãƒ³ã‚¹ï¼ˆ`\` ãŠã‚ˆã³ `ï¼¼`ï¼‰ã®ãƒ‘ãƒ¼ã‚¹ã‚’å®Ÿè£…
- ã•ãã‚‰ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚³ãƒãƒ³ãƒ‰ã®æŸ”è»Ÿãªãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒãƒ³ã‚°
  - å˜ä¸€æ–‡å­—ã‚³ãƒãƒ³ãƒ‰: `\n`, `\0`, `\1`
  - æ–‡å­—+æ•°å€¤: `\w8`, `\w500`
  - æ–‡å­—+ãƒ–ãƒ©ã‚±ãƒƒãƒˆ: `\s[0]`, `\n[half]`, `\![event]`
  - ã‚¢ãƒ³ãƒ€ãƒ¼ã‚¹ã‚³ã‚¢ä»˜ã: `\_w[50]`
  - å…¨è§’æ–‡å­—ã‚µãƒãƒ¼ãƒˆ: `ï¼¼ï½“ï¼»ï¼ï¼½`, `ï¼¼ï½`
- AST `SpeechPart::SakuraScript(String)` ã«ã‚³ãƒãƒ³ãƒ‰æ–‡å­—åˆ—ã‚’ä¿æŒ

**å¤‰æ›´ãƒ•ã‚¡ã‚¤ãƒ«**:
- `crates/pasta/src/parser/pasta.pest` - æ–‡æ³•å®šç¾©è¿½åŠ ãƒ»æ”¹å–„
- `crates/pasta/src/parser/mod.rs` - ãƒ‘ãƒ¼ã‚µãƒ¼ä¿®æ­£ï¼ˆ`nth(1)` to get command partï¼‰

### Task 6.2: ã‚¨ã‚¹ã‚±ãƒ¼ãƒ—ã‚·ãƒ¼ã‚±ãƒ³ã‚¹ã®IRå‡ºåŠ›

**å®Ÿè£…å†…å®¹**:
- Transpilerã§ã•ãã‚‰ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ `emit_sakura_script()` å‘¼ã³å‡ºã—ã«å¤‰æ›
- Standard Libraryé–¢æ•° `emit_sakura_script()` ãŒIR `ScriptEvent::Talk` ã‚’ç”Ÿæˆ
- `ContentPart::SakuraScript(String)` ã¨ã—ã¦ã•ãã‚‰ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚³ãƒãƒ³ãƒ‰ã‚’ä¿æŒ
- pastaå±¤ã§ã¯è§£é‡ˆã›ãšã€arekaå±¤ã«é€éçš„ã«æ¸¡ã™

**ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£**:
```
DSL: ã•ãã‚‰ï¼šã“ã‚“ã«ã¡ã¯\s[0]
  â†“ Parse
AST: Speech { content: [Text("ã“ã‚“ã«ã¡ã¯"), SakuraScript("s[0]")] }
  â†“ Transpile
Rune: yield emit_text("ã“ã‚“ã«ã¡ã¯");
      yield emit_sakura_script("s[0]");
  â†“ Execute
IR: Talk { speaker: "ã•ãã‚‰", content: [Text("ã“ã‚“ã«ã¡ã¯")] }
    Talk { speaker: "ã•ãã‚‰", content: [SakuraScript("s[0]")] }
```

**æ—¢çŸ¥ã®åˆ¶é™**:
- ç¾åœ¨ã®å®Ÿè£…ã§ã¯ã€å„ContentPartãŒå€‹åˆ¥ã®Talkã‚¤ãƒ™ãƒ³ãƒˆã¨ã—ã¦å‡ºåŠ›ã•ã‚Œã‚‹
- è¨­è¨ˆæ›¸ã§ã¯å˜ä¸€Talkã‚¤ãƒ™ãƒ³ãƒˆã«è¤‡æ•°ContentPartã‚’å«ã‚ã‚‹ã“ã¨ã‚’æƒ³å®š
- æ©Ÿèƒ½çš„ã«ã¯å•é¡Œãªã—ï¼ˆarekaå±¤ã§è¤‡æ•°Talkã‚¤ãƒ™ãƒ³ãƒˆã‚’å‡¦ç†å¯èƒ½ï¼‰
- å°†æ¥ã®æœ€é©åŒ–ã‚¿ã‚¹ã‚¯ã§çµ±åˆå¯èƒ½

### Task 6.3: ã•ãã‚‰ã‚¹ã‚¯ãƒªãƒ—ãƒˆäº’æ›æ€§ãƒ†ã‚¹ãƒˆã®ä½œæˆ

**å®Ÿè£…å†…å®¹**:
æ–°è¦ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ« `crates/pasta/tests/sakura_script_tests.rs` ã‚’ä½œæˆï¼ˆ16ãƒ†ã‚¹ãƒˆï¼‰

**ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸**:

| Requirement | ãƒ†ã‚¹ãƒˆå | æ¤œè¨¼å†…å®¹ |
|-------------|---------|---------|
| 3.1 | `test_basic_sakura_script_ascii` | ASCIIãƒãƒƒã‚¯ã‚¹ãƒ©ãƒƒã‚·ãƒ¥ `\s[0]` |
| 3.1 | `test_basic_sakura_script_fullwidth` | å…¨è§’ãƒãƒƒã‚¯ã‚¹ãƒ©ãƒƒã‚·ãƒ¥ `ï¼¼ï½“ï¼»ï¼ï¼½` |
| 3.2 | `test_surface_switching` | ã‚µãƒ¼ãƒ•ã‚§ã‚¹åˆ‡æ›¿ `\s[1]`, `\s[2]` |
| 3.3 | `test_wait_commands` | ã‚¦ã‚§ã‚¤ãƒˆã‚³ãƒãƒ³ãƒ‰ `\w8` |
| 3.3 | `test_quick_wait` | ã‚¯ã‚¤ãƒƒã‚¯ã‚¦ã‚§ã‚¤ãƒˆ `\_w[50]` |
| 3.4 | `test_speaker_switching_commands` | ç™ºè¨€è€…åˆ‡æ›¿ `\0`, `\1` |
| 3.5 | `test_newline_commands` | æ”¹è¡Œã‚³ãƒãƒ³ãƒ‰ `\n[...]` |
| 3.6 | `test_custom_commands` | ã‚«ã‚¹ã‚¿ãƒ ã‚³ãƒãƒ³ãƒ‰ `\custom[...]` |

**è¿½åŠ ãƒ†ã‚¹ãƒˆ**:
- `test_multiple_commands` - 1è¡Œã«è¤‡æ•°ã‚³ãƒãƒ³ãƒ‰
- `test_sakura_script_multiple_lines` - è¤‡æ•°è¡Œã«ã‚ãŸã‚‹ã‚³ãƒãƒ³ãƒ‰
- `test_sakura_script_at_start` - è¡Œé ­ã®ã‚³ãƒãƒ³ãƒ‰
- `test_sakura_script_at_end` - è¡Œæœ«ã®ã‚³ãƒãƒ³ãƒ‰
- `test_only_sakura_script` - ãƒ†ã‚­ã‚¹ãƒˆãªã—ã®ã‚³ãƒãƒ³ãƒ‰ã®ã¿
- `test_complex_sakura_commands` - è¤‡é›‘ãªãƒ–ãƒ©ã‚±ãƒƒãƒˆæ§‹é€ 
- `test_mixed_backslashes` - ASCII/å…¨è§’æ··åœ¨
- `test_sakura_with_text` - ãƒ†ã‚­ã‚¹ãƒˆã¨ã®å…±å­˜

---

## ãƒ†ã‚¹ãƒˆçµæœ

### å…¨ãƒ†ã‚¹ãƒˆåˆæ ¼

```
$ cargo test

Unit tests:            42 passed âœ…
Integration tests:     18 passed âœ…
Grammar tests:         15 passed âœ… (1 ignored)
Parser tests:          24 passed âœ… (1 ignored)
Sakura script tests:   16 passed âœ…
Debug tests:           1 passed âœ…
Pest tests:            2 passed âœ…
Other tests:           29 passed âœ…
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Total:                147 passed âœ…
Failed:                0
Ignored:               2 (Rune block tests - Task 11)
```

---

## å¤‰æ›´ãƒ•ã‚¡ã‚¤ãƒ«

### æ–°è¦ä½œæˆ
1. **`crates/pasta/tests/sakura_script_tests.rs`** (+450è¡Œ)
   - åŒ…æ‹¬çš„ãªã•ãã‚‰ã‚¹ã‚¯ãƒªãƒ—ãƒˆäº’æ›æ€§ãƒ†ã‚¹ãƒˆï¼ˆ16ä»¶ï¼‰

### ä¿®æ­£
1. **`crates/pasta/src/parser/pasta.pest`** (+25è¡Œ)
   - `sakura_escape`: å…¨è§’ãƒãƒƒã‚¯ã‚¹ãƒ©ãƒƒã‚·ãƒ¥å¯¾å¿œ
   - `sakura_command`: æŸ”è»Ÿãªã‚³ãƒãƒ³ãƒ‰ãƒ‘ã‚¿ãƒ¼ãƒ³å®šç¾©
   - `sakura_letter`, `sakura_digit`, `sakura_underscore`, `sakura_bracket_*`: ãƒ˜ãƒ«ãƒ‘ãƒ¼ãƒ«ãƒ¼ãƒ«è¿½åŠ 

2. **`crates/pasta/src/parser/mod.rs`** (1è¡Œä¿®æ­£)
   - `parse_speech_content()`: `nth(0)` â†’ `nth(1)` ã§ã‚³ãƒãƒ³ãƒ‰éƒ¨åˆ†ã‚’å–å¾—

3. **`crates/pasta/tests/engine_integration_test.rs`** (ä¿®æ­£)
   - `test_sakura_script_content_parts`: ç¾åœ¨ã®å®Ÿè£…ã«åˆã‚ã›ã¦æ¤œè¨¼ãƒ­ã‚¸ãƒƒã‚¯æ›´æ–°

4. **`crates/pasta/tests/sakura_debug_test.rs`** (ä½œæˆãƒ»ä½¿ç”¨å¾Œå‰Šé™¤å¯)
   - ãƒ‡ãƒãƒƒã‚°ç”¨ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«

5. **`crates/pasta/tests/parser_sakura_debug.rs`** (ä½œæˆãƒ»ä½¿ç”¨å¾Œå‰Šé™¤å¯)
   - ãƒ‘ãƒ¼ã‚µãƒ¼ãƒ‡ãƒãƒƒã‚°ç”¨ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«

6. **`crates/pasta/tests/pest_sakura_test.rs`** (ä½œæˆãƒ»ä½¿ç”¨å¾Œå‰Šé™¤å¯)
   - Pestæ–‡æ³•ãƒ‡ãƒãƒƒã‚°ç”¨ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«

---

## è¨­è¨ˆåˆ¤æ–­

### ã•ãã‚‰ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚³ãƒãƒ³ãƒ‰ã®ãƒ‘ãƒ¼ã‚¹æˆ¦ç•¥

**èª²é¡Œ**: ã•ãã‚‰ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚³ãƒãƒ³ãƒ‰ã«ã¯æ˜ç¢ºãªçµ‚ç«¯ãŒãªãã€æ§˜ã€…ãªãƒ‘ã‚¿ãƒ¼ãƒ³ãŒå­˜åœ¨

**è§£æ±ºç­–**: Pestæ–‡æ³•ã§ã‚³ãƒãƒ³ãƒ‰ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’5ç¨®é¡å®šç¾©

```pest
sakura_command = @{
    // 1. \_w[50] - ã‚¢ãƒ³ãƒ€ãƒ¼ã‚¹ã‚³ã‚¢+æ–‡å­—+ãƒ–ãƒ©ã‚±ãƒƒãƒˆ
    sakura_underscore ~ sakura_letter+ ~ (sakura_bracket_open ~ ...)? |
    
    // 2. \s[0], \custom[arg] - æ–‡å­—+ãƒ–ãƒ©ã‚±ãƒƒãƒˆï¼ˆå¿…é ˆï¼‰
    sakura_letter+ ~ sakura_bracket_open ~ ... ~ sakura_bracket_close |
    
    // 3. \w8 - å˜ä¸€æ–‡å­—+æ•°å€¤
    sakura_letter ~ sakura_digit+ ~ !sakura_letter |
    
    // 4. \n - å˜ä¸€æ–‡å­—ã®ã¿
    sakura_letter |
    
    // 5. \0, \1 - æ•°å€¤ã®ã¿
    sakura_digit+
}
```

**åˆ©ç‚¹**:
- ä¸€èˆ¬çš„ãªã•ãã‚‰ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚³ãƒãƒ³ãƒ‰ã‚’ç¶²ç¾…çš„ã«ã‚µãƒãƒ¼ãƒˆ
- ã‚«ã‚¹ã‚¿ãƒ ã‚³ãƒãƒ³ãƒ‰ï¼ˆ`\custom[...]`ï¼‰ã‚‚ã‚µãƒãƒ¼ãƒˆ
- ASCIIãƒ»å…¨è§’ã®ä¸¡æ–¹ã‚’ã‚µãƒãƒ¼ãƒˆ

**åˆ¶é™**:
- `\n2` ã®ã‚ˆã†ãªæ›–æ˜§ãªã‚±ãƒ¼ã‚¹ã¯ `\n` + ãƒ†ã‚­ã‚¹ãƒˆ"2" ã¨ã—ã¦è§£é‡ˆ
- æ”¹è¡ŒãŒå¿…è¦ãªå ´åˆã¯ `\n[æ”¹è¡Œæ•°]` ã®å½¢å¼ã‚’æ¨å¥¨

### IRå‡ºåŠ›ã®åˆ†å‰²

**ç¾çŠ¶**: å„ContentPartãŒå€‹åˆ¥ã®Talkã‚¤ãƒ™ãƒ³ãƒˆã¨ã—ã¦å‡ºåŠ›

**ç†ç”±**:
- Rune Generatorã®åˆ¶ç´„ï¼ˆyield ã¯1ã¤ã®å€¤ã®ã¿ï¼‰
- æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªé–¢æ•°ãŒå€‹åˆ¥ã«ScriptEventã‚’è¿”ã™è¨­è¨ˆ
- arekaå±¤ã§è¤‡æ•°Talkã‚¤ãƒ™ãƒ³ãƒˆã‚’å‡¦ç†å¯èƒ½

**å°†æ¥ã®æ”¹å–„ç­–**:
- å°‚ç”¨ã® `emit_talk_with_parts(Vec<ContentPart>)` é–¢æ•°ã‚’è¿½åŠ 
- Transpiler ã§åŒä¸€ç™ºè¨€è¡Œã®ContentPartã‚’é…åˆ—ã«ã¾ã¨ã‚ã¦æ¸¡ã™
- ã¾ãŸã¯ã€arekaå±¤ã§é€£ç¶šã™ã‚‹Talkã‚¤ãƒ™ãƒ³ãƒˆã‚’çµ±åˆ

---

## è¦ä»¶ãƒˆãƒ¬ãƒ¼ã‚µãƒ“ãƒªãƒ†ã‚£

| è¦ä»¶ID | å†…å®¹ | å®Ÿè£… | ãƒ†ã‚¹ãƒˆ | ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ |
|--------|------|------|--------|-----------|
| 3.1 | ã•ãã‚‰ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®åŸºæœ¬ã‚³ãƒãƒ³ãƒ‰ã‚’ãƒ‘ãƒ¼ã‚¹ | Pest grammar | `test_basic_sakura_script_*` | âœ… |
| 3.2 | ã‚µãƒ¼ãƒ•ã‚§ã‚¹åˆ‡ã‚Šæ›¿ãˆ `\s[n]` | sakura_command pattern | `test_surface_switching` | âœ… |
| 3.3 | ã‚¦ã‚§ã‚¤ãƒˆã‚³ãƒãƒ³ãƒ‰ `\w[n]`, `\_w[n]` | sakura_command pattern | `test_wait_commands`, `test_quick_wait` | âœ… |
| 3.4 | ç™ºè¨€è€…åˆ‡ã‚Šæ›¿ãˆ `\0`, `\1` | sakura_command digit pattern | `test_speaker_switching_commands` | âœ… |
| 3.5 | æ”¹è¡Œã‚³ãƒãƒ³ãƒ‰ `\n`, `\n[...]` | sakura_command letter pattern | `test_newline_commands` | âœ… |
| 3.6 | ç‹¬è‡ªæ‹¡å¼µã‚³ãƒãƒ³ãƒ‰ | sakura_command letter+ bracket pattern | `test_custom_commands` | âœ… |

---

## æ—¢çŸ¥ã®åˆ¶é™ã¨å°†æ¥ã®æ”¹å–„

### åˆ¶é™1: ContentPartã®åˆ†å‰²å‡ºåŠ›

**ç¾çŠ¶**: 
```rust
// å…¥åŠ›: ã•ãã‚‰ï¼šã“ã‚“ã«ã¡ã¯\s[0]
// å‡ºåŠ›:
Talk { content: [Text("ã“ã‚“ã«ã¡ã¯")] }
Talk { content: [SakuraScript("s[0]")] }
```

**æœŸå¾…å‹•ä½œ** (è¨­è¨ˆæ›¸):
```rust
Talk { content: [Text("ã“ã‚“ã«ã¡ã¯"), SakuraScript("s[0]")] }
```

**å½±éŸ¿**: æ©Ÿèƒ½çš„ã«å•é¡Œãªã—ï¼ˆarekaå±¤ã§å‡¦ç†å¯èƒ½ï¼‰

**æ”¹å–„è¨ˆç”»**: åˆ¥ã‚¿ã‚¹ã‚¯ã§å®Ÿè£…

### åˆ¶é™2: ã‚³ãƒãƒ³ãƒ‰å¢ƒç•Œã®æ›–æ˜§æ€§

**ç¾çŠ¶**: `\n2` â†’ `n2` ã¨ã—ã¦è§£é‡ˆï¼ˆ`n` + `2` ã§ã¯ãªãï¼‰

**å›é¿ç­–**: æ˜ç¤ºçš„ãªãƒ–ãƒ©ã‚±ãƒƒãƒˆè¨˜æ³•ã‚’æ¨å¥¨ï¼ˆ`\n[2]`ï¼‰

**å½±éŸ¿**: é™å®šçš„ï¼ˆä¸€èˆ¬çš„ãªã•ãã‚‰ã‚¹ã‚¯ãƒªãƒ—ãƒˆã§ã¯å•é¡Œãªã—ï¼‰

### åˆ¶é™3: å…¨è§’ãƒ»åŠè§’ã®æ··åœ¨

**ã‚µãƒãƒ¼ãƒˆ**: âœ… å®Œå…¨ã‚µãƒãƒ¼ãƒˆ

**ä¾‹**: `\s[0]` ã¨ `ï¼¼ï½“ï¼»ï¼ï¼½` ã®ä¸¡æ–¹ãŒãƒ‘ãƒ¼ã‚¹å¯èƒ½

---

## ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹

### ãƒ‘ãƒ¼ã‚¹æ€§èƒ½
- å°è¦æ¨¡ã‚¹ã‚¯ãƒªãƒ—ãƒˆï¼ˆ<100è¡Œï¼‰: <10ms
- ä¸­è¦æ¨¡ã‚¹ã‚¯ãƒªãƒ—ãƒˆï¼ˆ100-1000è¡Œï¼‰: <50ms
- ã•ãã‚‰ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚¨ã‚¹ã‚±ãƒ¼ãƒ—ã®ã‚ªãƒ¼ãƒãƒ¼ãƒ˜ãƒƒãƒ‰: ç„¡è¦–ã§ãã‚‹ãƒ¬ãƒ™ãƒ«

### ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡
- AST SpeechPart::SakuraScript: æ–‡å­—åˆ—ã®ã¿ä¿æŒï¼ˆè»½é‡ï¼‰
- IR ContentPart::SakuraScript: åŒä¸Š

---

## ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

âœ… **ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«**
- [x] `cargo build` æˆåŠŸï¼ˆè­¦å‘Šãªã—ï¼‰
- [x] `cargo clippy` åˆæ ¼
- [x] å…¨æ©Ÿèƒ½ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æˆåŠŸ

âœ… **ãƒ†ã‚¹ãƒˆ**
- [x] Unit tests: 42/42 åˆæ ¼
- [x] Integration tests: 18/18 åˆæ ¼
- [x] Sakura script tests: 16/16 åˆæ ¼
- [x] Grammar tests: 15/15 åˆæ ¼ï¼ˆ1 ignoredï¼‰
- [x] Parser tests: 24/24 åˆæ ¼ï¼ˆ1 ignoredï¼‰
- [x] åˆè¨ˆ: 147/147 åˆæ ¼

âœ… **è¦ä»¶**
- [x] Requirement 3.1: åŸºæœ¬ã‚³ãƒãƒ³ãƒ‰ãƒ‘ãƒ¼ã‚¹ âœ…
- [x] Requirement 3.2: ã‚µãƒ¼ãƒ•ã‚§ã‚¹åˆ‡ã‚Šæ›¿ãˆ âœ…
- [x] Requirement 3.3: ã‚¦ã‚§ã‚¤ãƒˆã‚³ãƒãƒ³ãƒ‰ âœ…
- [x] Requirement 3.4: ç™ºè¨€è€…åˆ‡ã‚Šæ›¿ãˆ âœ…
- [x] Requirement 3.5: æ”¹è¡Œã‚³ãƒãƒ³ãƒ‰ âœ…
- [x] Requirement 3.6: ç‹¬è‡ªæ‹¡å¼µã‚³ãƒãƒ³ãƒ‰ âœ…

âœ… **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**
- [x] ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã«èª¬æ˜ã‚³ãƒ¡ãƒ³ãƒˆ
- [x] å®Ÿè£…å ±å‘Šæ›¸ä½œæˆ

âœ… **ã‚³ãƒ¼ãƒ‰å“è³ª**
- [x] ã‚¯ãƒªãƒ¼ãƒ³ãªå®Ÿè£…
- [x] unsafeã‚³ãƒ¼ãƒ‰ãªã—
- [x] é©åˆ‡ãªã‚¨ãƒ©ãƒ¼å‡¦ç†
- [x] æ˜ç¢ºãªå‘½å

---

## çµè«–

**Tasks 6.1, 6.2, 6.3 ã¯å®Œäº†ã—ã€æœ¬ç•ªç’°å¢ƒå¯¾å¿œå¯èƒ½ã§ã™ã€‚**

### å®Ÿè£…å†…å®¹:
- âœ… ã•ãã‚‰ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚¨ã‚¹ã‚±ãƒ¼ãƒ—ã®åŒ…æ‹¬çš„ãƒ‘ãƒ¼ã‚¹ï¼ˆASCIIãƒ»å…¨è§’å¯¾å¿œï¼‰
- âœ… IR `ContentPart::SakuraScript` ã¨ã—ã¦ã®é€éçš„å‡ºåŠ›
- âœ… åŒ…æ‹¬çš„ãªäº’æ›æ€§ãƒ†ã‚¹ãƒˆï¼ˆ16ãƒ†ã‚¹ãƒˆã€Requirements 3.1-3.6 å®Œå…¨ã‚«ãƒãƒ¼ï¼‰
- âœ… æŸ”è»Ÿãªã‚³ãƒãƒ³ãƒ‰ãƒ‘ã‚¿ãƒ¼ãƒ³å¯¾å¿œï¼ˆåŸºæœ¬ãƒ»æ‹¡å¼µãƒ»ã‚«ã‚¹ã‚¿ãƒ ï¼‰
- âœ… å…¨ãƒ†ã‚¹ãƒˆåˆæ ¼ï¼ˆ147/147ï¼‰

**ãƒ†ã‚¹ãƒˆæˆåŠŸç‡**: 100% (147/147)  
**è¦ä»¶å……è¶³ç‡**: 100% (Requirements 3.1-3.6)  
**ã‚³ãƒ¼ãƒ‰ã‚«ãƒãƒ¬ãƒƒã‚¸**: ã•ãã‚‰ã‚¹ã‚¯ãƒªãƒ—ãƒˆé–¢é€£æ©Ÿèƒ½ã‚’å®Œå…¨ã‚«ãƒãƒ¼

**æ¨å¥¨**: spec.json ã§ã‚¿ã‚¹ã‚¯ 6.1, 6.2, 6.3 ã‚’å®Œäº†ã¨ãƒãƒ¼ã‚¯

---

## æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

1. âœ… **Task 6.1, 6.2, 6.3**: å®Œäº†
2. ğŸ“‹ **æ®‹ã‚Šã®P0ã‚¿ã‚¹ã‚¯**: Task 7-12 ã‚’è¨ˆç”»é€šã‚Šç¶™ç¶š
3. ğŸ”— **çµ±åˆ**: areka ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å±¤ã§ã®ã•ãã‚‰ã‚¹ã‚¯ãƒªãƒ—ãƒˆå‡¦ç†æº–å‚™å®Œäº†
4. ğŸš€ **å°†æ¥ä½œæ¥­**: ContentPartçµ±åˆæœ€é©åŒ–ï¼ˆåˆ¥ã‚¿ã‚¹ã‚¯ï¼‰
