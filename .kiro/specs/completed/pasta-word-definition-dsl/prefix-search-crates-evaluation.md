# Rustã®å‰æ–¹ä¸€è‡´æ¤œç´¢ã‚¯ãƒ¬ãƒ¼ãƒˆè©•ä¾¡ãƒ¬ãƒãƒ¼ãƒˆ

**èª¿æŸ»æ—¥**: 2025å¹´12æœˆ11æ—¥  
**ç”¨é€”**: Pasta DSLå˜èªè¾æ›¸æ¤œç´¢ï¼ˆè¾æ›¸ã‚µã‚¤ã‚º10-100ã‚¨ãƒ³ãƒˆãƒªæƒ³å®šï¼‰

---

## èª¿æŸ»å¯¾è±¡ã‚¯ãƒ¬ãƒ¼ãƒˆä¸€è¦§

| ã‚¯ãƒ¬ãƒ¼ãƒˆ | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰æ¨å®š | GitHub Stars | æœ€çµ‚æ›´æ–° |
|---------|-----------|---------------|-------------|---------|
| trie-rs | 0.4.2 | ä¸­è¦æ¨¡ | 130 | ã‚¢ã‚¯ãƒ†ã‚£ãƒ– |
| radix_trie | 0.3.0 | å¤§è¦æ¨¡ | 213 | 2024å¹´é ƒ |
| prefix-trie | 0.8.1 | å°è¦æ¨¡ | 31 | ã‚¢ã‚¯ãƒ†ã‚£ãƒ– |
| aho-corasick | 1.1.4 | è¶…å¤§è¦æ¨¡ | N/A | ã‚¢ã‚¯ãƒ†ã‚£ãƒ– |
| fst | 0.4.7 | å¤§è¦æ¨¡ | N/A | ã‚¢ã‚¯ãƒ†ã‚£ãƒ– |

---

## 1. trie-rs

### æ¦‚è¦
- **ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ**: LOUDSï¼ˆLevel-Ordered Unary Degree Sequenceï¼‰ãƒ™ãƒ¼ã‚¹ã®ç°¡æ½”ãƒ‡ãƒ¼ã‚¿æ§‹é€ 
- **ãƒ¡ãƒ¢ãƒªåŠ¹ç‡**: â˜…â˜…â˜…â˜…â˜…ï¼ˆæœ€é«˜ã‚¯ãƒ©ã‚¹ï¼‰
- **æ¤œç´¢é€Ÿåº¦**: â˜…â˜…â˜…â˜…â˜†
- **rust-version**: 1.67.0ä»¥ä¸Šï¼ˆä¸€éƒ¨æ©Ÿèƒ½ã¯1.75.0ï¼‰

### ç‰¹å¾´
âœ… **ãƒ¡ãƒ¢ãƒªåŠ¹ç‡ãŒæ¥µã‚ã¦é«˜ã„** - LOUDSã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã«ã‚ˆã‚‹åœ§ç¸®  
âœ… **UTF-8æ–‡å­—åˆ—ã«æœ€é©åŒ–** - æ—¥æœ¬èªã‚’å«ã‚€ãƒãƒ«ãƒãƒã‚¤ãƒˆæ–‡å­—ã«å¯¾å¿œ  
âœ… **3ç¨®é¡ã®æ¤œç´¢ã‚’æä¾›**:
- `exact_match()` - å®Œå…¨ä¸€è‡´
- `predictive_search()` - å‰æ–¹ä¸€è‡´ï¼ˆã‚­ãƒ¼ã‹ã‚‰å§‹ã¾ã‚‹å…¨å˜èªï¼‰
- `common_prefix_search()` - æœ€é•·å…±é€šæ¥é ­è¾æ¤œç´¢

âœ… **Mapæ©Ÿèƒ½** - ã‚­ãƒ¼ã«å€¤ã‚’é–¢é€£ä»˜ã‘å¯èƒ½ï¼ˆ`trie_rs::map::Trie`ï¼‰  
âœ… **ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ã‚¿ãƒ«æ¤œç´¢** - 1æ–‡å­—ãšã¤ã‚¯ã‚¨ãƒªã‚’è¿½åŠ å¯èƒ½  
âœ… **ä¸¦åˆ—å‡¦ç†å¯¾å¿œ** - Rayon featureåˆ©ç”¨å¯èƒ½  
âœ… **Serdeå¯¾å¿œ** - ã‚·ãƒªã‚¢ãƒ©ã‚¤ã‚º/ãƒ‡ã‚·ãƒªã‚¢ãƒ©ã‚¤ã‚ºå¯èƒ½  
âœ… **ç¶™ç¶šçš„ãªãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯** - GitHub Actionsã§è‡ªå‹•æ¸¬å®š  

âš ï¸ **æ§‹ç¯‰å¾Œã¯ä¸å¤‰** - `TrieBuilder`ã§ãƒ“ãƒ«ãƒ‰å¾Œã¯å¤‰æ›´ä¸å¯  
âš ï¸ **no_stdéå¯¾å¿œ** - æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒå¿…é ˆ

### ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰

```rust
use trie_rs::TrieBuilder;

let mut builder = TrieBuilder::new();
builder.push("apple");
builder.push("application");
builder.push("apply");
builder.push("banana");

let trie = builder.build();

// å‰æ–¹ä¸€è‡´æ¤œç´¢
let results: Vec<String> = trie.predictive_search("app").collect();
assert_eq!(results, vec!["apple", "application", "apply"]);

// å®Œå…¨ä¸€è‡´
assert_eq!(trie.exact_match("apple"), true);

// æœ€é•·å…±é€šæ¥é ­è¾
let prefixes: Vec<String> = trie.common_prefix_search("application").collect();
assert_eq!(prefixes, vec!["app", "application"]);
```

### Mapæ©Ÿèƒ½

```rust
use trie_rs::map::TrieBuilder;

let mut builder = TrieBuilder::new();
builder.push("apple", 100);
builder.push("application", 200);
builder.push("apply", 150);

let mut trie = builder.build();

assert_eq!(trie.exact_match("apple"), Some(&100));

// å€¤ã®å¤‰æ›´ã‚‚å¯èƒ½
if let Some(val) = trie.exact_match_mut("apple") {
    *val = 120;
}
```

### ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹
- **Big-O**: O(m) - mã¯ã‚¯ã‚¨ãƒªé•·ï¼ˆãƒˆãƒ©ã‚¤ã®ç‰¹æ€§ï¼‰
- **å®Ÿæ¸¬å€¤**: [å…¬é–‹ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯](https://laysakura.github.io/trie-rs/criterion/report/)
- **ãƒ¡ãƒ¢ãƒª**: LOUDSåœ§ç¸®ã«ã‚ˆã‚Šé€šå¸¸ã®ãƒˆãƒ©ã‚¤ã®1/3ã€œ1/5

### ä¾å­˜é–¢ä¿‚
```toml
[dependencies]
louds-rs = { version, features }  # ã‚³ã‚¢å®Ÿè£…
```
**è»½é‡æ€§**: â˜…â˜…â˜…â˜…â˜†ï¼ˆlouds-rsä¾å­˜ï¼‰

---

## 2. radix_trie

### æ¦‚è¦
- **ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ**: Radix Trieï¼ˆPatricia Trieï¼‰
- **ãƒ¡ãƒ¢ãƒªåŠ¹ç‡**: â˜…â˜…â˜…â˜…â˜†
- **æ¤œç´¢é€Ÿåº¦**: â˜…â˜…â˜…â˜…â˜…
- **rust-version**: ä¸æ˜ï¼ˆå¤ã„Rustã§ã‚‚å‹•ä½œã™ã‚‹ã¨æ€ã‚ã‚Œã‚‹ï¼‰

### ç‰¹å¾´
âœ… **å¯å¤‰ãƒ‡ãƒ¼ã‚¿æ§‹é€ ** - æŒ¿å…¥ãƒ»å‰Šé™¤ãŒå®¹æ˜“  
âœ… **æ±ç”¨çš„ãªå‹å¯¾å¿œ** - `Vec<u8>`ã«ã‚·ãƒªã‚¢ãƒ©ã‚¤ã‚ºå¯èƒ½ãªä»»æ„ã®å‹ãŒã‚­ãƒ¼ã«ãªã‚‹  
âœ… **å…ˆç¥–ãƒ»å­å­«æ¤œç´¢** - Trieç‰¹æœ‰ã®ãƒ¡ã‚½ãƒƒãƒ‰æä¾›  
âœ… **åœ§ç¸®ãƒãƒ¼ãƒ‰** - å…±é€šæ¥é ­è¾ã¯1å›ã ã‘ä¿å­˜  
âœ… **Serdeå¯¾å¿œ**ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰  
âœ… **å®‰å…¨** - unsafeã‚³ãƒ¼ãƒ‰ä¸ä½¿ç”¨  

âš ï¸ **ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹çŠ¶æ³ãŒä¸é€æ˜** - "Help Wanted"çŠ¶æ…‹  
âš ï¸ **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒå°‘ãªã„** - åŸºæœ¬çš„ãªä½¿ã„æ–¹ã®ã¿  
âš ï¸ **no_stdéå¯¾å¿œ**

### ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰

```rust
use radix_trie::Trie;

let mut trie = Trie::new();
trie.insert("apple", 1);
trie.insert("application", 2);
trie.insert("apply", 3);

// å®Œå…¨ä¸€è‡´
assert_eq!(trie.get("apple"), Some(&1));

// å‰æ–¹ä¸€è‡´ï¼ˆsubtrieå–å¾—ï¼‰
let subtrie = trie.get_raw_descendant("app");
// subtrieå†…ã®ã™ã¹ã¦ã®è¦ç´ ã«ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½
```

### ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹
- **Big-O**: O(m)
- **å®Ÿè£…**: æ¨™æº–çš„ãªRadix Trie
- **ãƒ¡ãƒ¢ãƒª**: é€šå¸¸ã®ãƒˆãƒ©ã‚¤ã‚ˆã‚ŠåŠ¹ç‡çš„ã ãŒã€LOUDSã«ã¯åŠ£ã‚‹

### ä¾å­˜é–¢ä¿‚
æœ€å°é™ï¼ˆstdlibä¸­å¿ƒï¼‰

**è»½é‡æ€§**: â˜…â˜…â˜…â˜…â˜…

---

## 3. prefix-trie

### æ¦‚è¦
- **ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ**: æ¨™æº–çš„ãªPrefix Trie
- **ä¸»ç”¨é€”**: IPã‚¢ãƒ‰ãƒ¬ã‚¹/ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹æ¤œç´¢
- **ãƒ¡ãƒ¢ãƒªåŠ¹ç‡**: â˜…â˜…â˜…â˜†â˜†
- **æ¤œç´¢é€Ÿåº¦**: â˜…â˜…â˜…â˜…â˜†
- **rust-version**: 1.65.0ä»¥ä¸Š

### ç‰¹å¾´
âœ… **IPç‰¹åŒ–æ©Ÿèƒ½** - IPv4/IPv6å¯¾å¿œã€æœ€é•·ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ãƒãƒƒãƒ  
âœ… **ã‚»ãƒƒãƒˆæ¼”ç®—** - union, intersection, differenceãªã©  
âœ… **Viewæ©Ÿèƒ½** - ã‚µãƒ–ãƒˆãƒ©ã‚¤ã®å€Ÿç”¨ãŒå¯èƒ½  
âœ… **Serdeå¯¾å¿œ**ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰  

âš ï¸ **IPå°‚ç”¨è¨­è¨ˆ** - æ±ç”¨çš„ãªæ–‡å­—åˆ—æ¤œç´¢ã«ã¯ä¸å‘ã  
âš ï¸ **APIãŒè¤‡é›‘** - ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ç”¨é€”ã«ç‰¹åŒ–  

### ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ï¼ˆæ±ç”¨ç”¨é€”ï¼‰

```rust
use prefix_trie::PrefixMap;

// (u32, prefix_len) ã®ã‚¿ãƒ—ãƒ«ã‚’ã‚­ãƒ¼ã¨ã—ã¦ä½¿ç”¨å¯èƒ½
let mut map = PrefixMap::new();
map.insert((0x12345678u32, 16), "value1");
map.insert((0x12340000u32, 8), "value2");

// ãŸã ã—ã€æ–‡å­—åˆ—æ¤œç´¢ã«ã¯ä¸å‘ã
```

### ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹
- **Big-O**: O(log n)
- IPæ¤œç´¢ã«æœ€é©åŒ–ã•ã‚Œã¦ãŠã‚Šã€æ±ç”¨æ–‡å­—åˆ—æ¤œç´¢ã«ã¯éå‰°

### è©•ä¾¡
âŒ **Pasta DSLç”¨é€”ã«ã¯ä¸é©** - IPå°‚ç”¨è¨­è¨ˆã®ãŸã‚é™¤å¤–

---

## 4. aho-corasick

### æ¦‚è¦
- **ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ**: Aho-Corasick ã‚ªãƒ¼ãƒˆãƒãƒˆãƒ³
- **ç”¨é€”**: è¤‡æ•°ãƒ‘ã‚¿ãƒ¼ãƒ³ã®åŒæ™‚ãƒãƒƒãƒãƒ³ã‚°
- **ãƒ¡ãƒ¢ãƒªåŠ¹ç‡**: â˜…â˜…â˜…â˜†â˜†
- **æ¤œç´¢é€Ÿåº¦**: â˜…â˜…â˜…â˜…â˜…
- **rust-version**: 1.60.0ä»¥ä¸Š

### ç‰¹å¾´
âœ… **è¶…é«˜é€Ÿãƒãƒ«ãƒãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒ** - è¤‡æ•°ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’O(n+m+z)ã§æ¤œç´¢  
âœ… **BurntSushiä½œ** - ä¿¡é ¼æ€§ã¨ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹æ€§ãŒé«˜ã„  
âœ… **åºƒãä½¿ã‚ã‚Œã¦ã„ã‚‹** - ripgrepãªã©å¤šæ•°ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§æ¡ç”¨  
âœ… **no_stdå¯¾å¿œ**ï¼ˆä¸€éƒ¨æ©Ÿèƒ½ï¼‰  

âš ï¸ **å‰æ–¹ä¸€è‡´å°‚ç”¨ã§ã¯ãªã„** - ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒãƒ³ã‚°ãŒä¸»ç›®çš„  
âš ï¸ **å˜ä¸€ãƒ‘ã‚¿ãƒ¼ãƒ³æ¤œç´¢ã§ã¯éå‰°** - å˜ç´”ãªã‚±ãƒ¼ã‚¹ã§ã¯ã‚ªãƒ¼ãƒãƒ¼ã‚¹ãƒšãƒƒã‚¯

### ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰

```rust
use aho_corasick::AhoCorasick;

let patterns = &["apple", "application", "apply"];
let ac = AhoCorasick::new(patterns).unwrap();

let text = "I have an apple and an application";
let matches: Vec<_> = ac.find_iter(text).collect();
// "apple"ã¨"application"ãŒè¦‹ã¤ã‹ã‚‹
```

### ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹
- **Big-O**: O(n + m + z) - n=ãƒ†ã‚­ã‚¹ãƒˆé•·ã€m=ãƒ‘ã‚¿ãƒ¼ãƒ³ç·é•·ã€z=ãƒãƒƒãƒæ•°
- è¤‡æ•°ãƒ‘ã‚¿ãƒ¼ãƒ³åŒæ™‚æ¤œç´¢ã§ã¯ç„¡æ•µã®é€Ÿåº¦

### è©•ä¾¡
âš ï¸ **ç”¨é€”ãŒç•°ãªã‚‹** - å‰æ–¹ä¸€è‡´æ¤œç´¢ãƒ„ãƒªãƒ¼ã§ã¯ãªãã€ãƒ†ã‚­ã‚¹ãƒˆå†…ãƒ‘ã‚¿ãƒ¼ãƒ³æ¤œç´¢
- è¾æ›¸å…¨ä½“ã‹ã‚‰å€™è£œã‚’åˆ—æŒ™ã™ã‚‹ç”¨é€”ã«ã¯ä¸å‘ã

---

## 5. fst (Finite State Transducer)

### æ¦‚è¦
- **ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ**: æœ‰é™çŠ¶æ…‹ãƒˆãƒ©ãƒ³ã‚¹ãƒ‡ãƒ¥ãƒ¼ã‚µ
- **ç”¨é€”**: å·¨å¤§ãªæ–‡å­—åˆ—é›†åˆã®åœ§ç¸®è¡¨ç¾ï¼ˆ10å„„ä»¥ä¸Šã‚‚å¯èƒ½ï¼‰
- **ãƒ¡ãƒ¢ãƒªåŠ¹ç‡**: â˜…â˜…â˜…â˜…â˜…
- **æ¤œç´¢é€Ÿåº¦**: â˜…â˜…â˜…â˜…â˜…
- **rust-version**: ä¸æ˜ï¼ˆå¤ã„Rustã§ã‚‚å‹•ä½œï¼‰

### ç‰¹å¾´
âœ… **è¶…å¤§è¦æ¨¡ãƒ‡ãƒ¼ã‚¿å¯¾å¿œ** - 10å„„ã‚¨ãƒ³ãƒˆãƒªã‚‚å¯èƒ½  
âœ… **æ¥µã‚ã¦é«˜ã„ãƒ¡ãƒ¢ãƒªåŠ¹ç‡** - ãƒ‡ã‚£ã‚¹ã‚¯ãƒ™ãƒ¼ã‚¹ã‚‚å¯èƒ½  
âœ… **Set/Mapä¸¡å¯¾å¿œ**  
âœ… **ãƒ¬ãƒ¼ãƒ™ãƒ³ã‚·ãƒ¥ã‚¿ã‚¤ãƒ³è·é›¢æ¤œç´¢**ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰  
âœ… **BurntSushiä½œ** - é«˜å“è³ªä¿è¨¼  

âš ï¸ **æ§‹ç¯‰å¾Œä¸å¤‰** - Builderãƒ‘ã‚¿ãƒ¼ãƒ³å¿…é ˆ  
âš ï¸ **å°è¦æ¨¡ãƒ‡ãƒ¼ã‚¿ã§ã¯éå‰°** - 10-100ã‚¨ãƒ³ãƒˆãƒªã«ã¯ä¸è¦ãªè¤‡é›‘ã•  
âš ï¸ **å­¦ç¿’ã‚³ã‚¹ãƒˆãŒé«˜ã„** - FSTç†è«–ã®ç†è§£ãŒå¿…è¦

### ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰

```rust
use fst::{SetBuilder, IntoStreamer, Streamer};

let mut build = SetBuilder::memory();
build.insert("apple").unwrap();
build.insert("application").unwrap();
build.insert("apply").unwrap();

let set = build.into_set();

// å‰æ–¹ä¸€è‡´æ¤œç´¢
let mut stream = set.search("app").into_stream();
while let Some(word) = stream.next() {
    println!("{}", std::str::from_utf8(word).unwrap());
}
```

### ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹
- **Big-O**: O(m)
- **ãƒ¡ãƒ¢ãƒª**: LOUDSã¨åŒç­‰ã‹ãã‚Œä»¥ä¸Šã«åŠ¹ç‡çš„
- **é€Ÿåº¦**: ãƒˆãƒƒãƒ—ã‚¯ãƒ©ã‚¹

### è©•ä¾¡
âš ï¸ **å°è¦æ¨¡ãƒ‡ãƒ¼ã‚¿ã«ã¯éå‰°** - 10-100ã‚¨ãƒ³ãƒˆãƒªã«ã¯è¤‡é›‘ã™ãã‚‹

---

## ç·åˆè©•ä¾¡ã¨Pasta DSLå‘ã‘æ¨å¥¨

### è©•ä¾¡ãƒãƒˆãƒªã‚¯ã‚¹

| é …ç›® | trie-rs | radix_trie | prefix-trie | aho-corasick | fst |
|-----|---------|-----------|------------|-------------|-----|
| å‰æ–¹ä¸€è‡´é©æ€§ | â˜…â˜…â˜…â˜…â˜… | â˜…â˜…â˜…â˜…â˜† | â˜…â˜†â˜†â˜†â˜† | â˜…â˜…â˜†â˜†â˜† | â˜…â˜…â˜…â˜†â˜† |
| ãƒ¡ãƒ¢ãƒªåŠ¹ç‡ | â˜…â˜…â˜…â˜…â˜… | â˜…â˜…â˜…â˜…â˜† | â˜…â˜…â˜…â˜†â˜† | â˜…â˜…â˜…â˜†â˜† | â˜…â˜…â˜…â˜…â˜… |
| æ¤œç´¢é€Ÿåº¦ | â˜…â˜…â˜…â˜…â˜† | â˜…â˜…â˜…â˜…â˜… | â˜…â˜…â˜…â˜…â˜† | â˜…â˜…â˜…â˜…â˜… | â˜…â˜…â˜…â˜…â˜… |
| APIä½¿ã„ã‚„ã™ã• | â˜…â˜…â˜…â˜…â˜… | â˜…â˜…â˜…â˜†â˜† | â˜…â˜†â˜†â˜†â˜† | â˜…â˜…â˜…â˜…â˜† | â˜…â˜…â˜†â˜†â˜† |
| å°è¦æ¨¡é©æ€§ | â˜…â˜…â˜…â˜…â˜… | â˜…â˜…â˜…â˜…â˜… | â˜…â˜…â˜†â˜†â˜† | â˜…â˜…â˜…â˜†â˜† | â˜…â˜…â˜†â˜†â˜† |
| ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ | â˜…â˜…â˜…â˜…â˜† | â˜…â˜…â˜†â˜†â˜† | â˜…â˜…â˜…â˜…â˜† | â˜…â˜…â˜…â˜…â˜… | â˜…â˜…â˜…â˜…â˜† |
| ä¾å­˜è»½é‡æ€§ | â˜…â˜…â˜…â˜…â˜† | â˜…â˜…â˜…â˜…â˜… | â˜…â˜…â˜…â˜†â˜† | â˜…â˜…â˜…â˜…â˜† | â˜…â˜…â˜…â˜…â˜† |
| no_stdå¯¾å¿œ | âŒ | âŒ | âŒ | âš ï¸ | âŒ |

---

## æ¨å¥¨ã‚¯ãƒ¬ãƒ¼ãƒˆ

### ğŸ¥‡ ç¬¬1æ¨å¥¨: **trie-rs**

#### æ¨å¥¨ç†ç”±
1. **å‰æ–¹ä¸€è‡´æ¤œç´¢ã«ç‰¹åŒ–** - `predictive_search()`ãŒç›´æ¥çš„ã«ç”¨é€”ã«åˆè‡´
2. **APIãŒç›´æ„Ÿçš„** - å­¦ç¿’ã‚³ã‚¹ãƒˆãŒä½ãã€ã™ãã«ä½¿ãˆã‚‹
3. **ãƒ¡ãƒ¢ãƒªåŠ¹ç‡ãŒæœ€é«˜** - LOUDSåœ§ç¸®ã«ã‚ˆã‚Šçœãƒ¡ãƒ¢ãƒª
4. **æ—¥æœ¬èªå¯¾å¿œ** - UTF-8æ–‡å­—åˆ—ã«ãƒã‚¤ãƒ†ã‚£ãƒ–å¯¾å¿œ
5. **Mapæ©Ÿèƒ½** - å˜èªã«æ„å‘³æƒ…å ±ã‚’ä»˜åŠ å¯èƒ½
6. **10-100ã‚¨ãƒ³ãƒˆãƒªã«æœ€é©** - å°è¦æ¨¡è¾æ›¸ã§ã®ä½¿ç”¨å®Ÿç¸¾ã‚ã‚Š
7. **ç¶™ç¶šçš„ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹** - CI/CDã¨ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯ãŒæ•´å‚™

#### æ¡ç”¨ã‚³ãƒ¼ãƒ‰ä¾‹ï¼ˆPasta DSLç”¨ï¼‰

```rust
use trie_rs::map::TrieBuilder;

#[derive(Debug, Clone)]
pub struct WordInfo {
    pub word_type: WordType,
    pub priority: u8,
}

#[derive(Debug, Clone)]
pub enum WordType {
    Keyword,
    Identifier,
    Operator,
}

pub struct PastaDictionary {
    trie: trie_rs::map::Trie<u8, WordInfo>,
}

impl PastaDictionary {
    pub fn new(entries: Vec<(String, WordInfo)>) -> Self {
        let mut builder = TrieBuilder::new();
        
        for (word, info) in entries {
            builder.push(word, info);
        }
        
        Self {
            trie: builder.build(),
        }
    }
    
    /// å‰æ–¹ä¸€è‡´ã§å€™è£œã‚’å–å¾—ï¼ˆæœ€å¤§10ä»¶ï¼‰
    pub fn complete(&self, prefix: &str) -> Vec<(String, WordInfo)> {
        self.trie
            .predictive_search(prefix)
            .take(10)
            .collect()
    }
    
    /// å®Œå…¨ä¸€è‡´ã§å˜èªæƒ…å ±ã‚’å–å¾—
    pub fn lookup(&self, word: &str) -> Option<&WordInfo> {
        self.trie.exact_match(word)
    }
    
    /// æœ€é•·ä¸€è‡´ã§å˜èªã‚’æ¢ã™
    pub fn find_longest_match(&self, text: &str) -> Option<(String, &WordInfo)> {
        self.trie
            .common_prefix_search(text)
            .last()
    }
}

// ä½¿ç”¨ä¾‹
fn main() {
    let dictionary = PastaDictionary::new(vec![
        ("if".to_string(), WordInfo { 
            word_type: WordType::Keyword, 
            priority: 10 
        }),
        ("iflet".to_string(), WordInfo { 
            word_type: WordType::Keyword, 
            priority: 10 
        }),
        ("import".to_string(), WordInfo { 
            word_type: WordType::Keyword, 
            priority: 10 
        }),
    ]);
    
    // å‰æ–¹ä¸€è‡´æ¤œç´¢
    let candidates = dictionary.complete("i");
    // => [("if", ...), ("iflet", ...), ("import", ...)]
    
    // å®Œå…¨ä¸€è‡´
    if let Some(info) = dictionary.lookup("if") {
        println!("Found: {:?}", info);
    }
    
    // æœ€é•·ä¸€è‡´
    if let Some((word, info)) = dictionary.find_longest_match("iflet x = 5") {
        println!("Matched: {} ({:?})", word, info);
    }
}
```

#### Cargo.toml

```toml
[dependencies]
trie-rs = "0.4"
```

---

### ğŸ¥ˆ ç¬¬2æ¨å¥¨: **radix_trie**ï¼ˆå¯å¤‰æ€§ãŒå¿…è¦ãªå ´åˆï¼‰

#### æ¨å¥¨ç†ç”±
1. **å‹•çš„ãªå¤‰æ›´ãŒå¯èƒ½** - å®Ÿè¡Œæ™‚ã«è¾æ›¸ã‚’å¤‰æ›´ã§ãã‚‹
2. **ã‚·ãƒ³ãƒ—ãƒ«ãªå®Ÿè£…** - ä¾å­˜é–¢ä¿‚ãŒæœ€å°
3. **å®‰å®šã—ãŸå‹•ä½œ** - é•·æœŸé–“ä½¿ç”¨ã•ã‚Œã¦ã„ã‚‹
4. **ãƒ¡ãƒ¢ãƒªåŠ¹ç‡ã‚‚è‰¯å¥½** - åœ§ç¸®ãƒãƒ¼ãƒ‰æ§‹é€ 

#### æ¡ç”¨ã™ã¹ãã‚±ãƒ¼ã‚¹
- å®Ÿè¡Œæ™‚ã«è¾æ›¸ã‚’å‹•çš„ã«è¿½åŠ /å‰Šé™¤ã™ã‚‹å¿…è¦ãŒã‚ã‚‹
- ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ ãªã©ã€å¾Œã‹ã‚‰å˜èªã‚’è¿½åŠ ã—ãŸã„

#### ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰

```rust
use radix_trie::Trie;

pub struct PastaDictionary {
    trie: Trie<String, WordInfo>,
}

impl PastaDictionary {
    pub fn new() -> Self {
        Self {
            trie: Trie::new(),
        }
    }
    
    /// å‹•çš„ã«å˜èªã‚’è¿½åŠ 
    pub fn add_word(&mut self, word: String, info: WordInfo) {
        self.trie.insert(word, info);
    }
    
    /// å‹•çš„ã«å˜èªã‚’å‰Šé™¤
    pub fn remove_word(&mut self, word: &str) -> Option<WordInfo> {
        self.trie.remove(word)
    }
    
    /// å‰æ–¹ä¸€è‡´æ¤œç´¢ï¼ˆæ‰‹å‹•å®Ÿè£…ãŒå¿…è¦ï¼‰
    pub fn complete(&self, prefix: &str) -> Vec<(String, &WordInfo)> {
        let subtrie = self.trie.get_raw_descendant(prefix);
        // subtrie.iter()ã§åˆ—æŒ™
        // å®Ÿè£…ã®è©³ç´°ã¯ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå‚ç…§
        vec![] // çœç•¥
    }
}
```

#### Cargo.toml

```toml
[dependencies]
radix_trie = "0.3"
```

---

## éæ¨å¥¨ã‚¯ãƒ¬ãƒ¼ãƒˆã¨ãã®ç†ç”±

### âŒ prefix-trie
- IPå°‚ç”¨è¨­è¨ˆã§æ±ç”¨æ–‡å­—åˆ—æ¤œç´¢ã«ä¸å‘ã
- APIãŒãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ç”¨é€”ã«ç‰¹åŒ–ã—ã™ã

### âš ï¸ aho-corasick
- ç”¨é€”ãŒç•°ãªã‚‹ï¼ˆãƒ†ã‚­ã‚¹ãƒˆå†…ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒãƒ³ã‚°ï¼‰
- å‰æ–¹ä¸€è‡´å€™è£œåˆ—æŒ™ã«ã¯ä½¿ã„ã«ãã„
- è¤‡æ•°å˜èªã®å­˜åœ¨ãƒã‚§ãƒƒã‚¯ã«ã¯å„ªç§€ã ãŒã€è¾æ›¸æ¤œç´¢ã«ã¯éå‰°

### âš ï¸ fst
- 10-100ã‚¨ãƒ³ãƒˆãƒªã«ã¯éå‰°ã«è¤‡é›‘
- 10å„„è¦æ¨¡ã®ãƒ‡ãƒ¼ã‚¿å‘ã‘
- å°è¦æ¨¡ã§ã¯`trie-rs`ã®æ–¹ãŒã‚·ãƒ³ãƒ—ãƒ«

---

## ã¾ã¨ã‚

### æ¨å¥¨æ§‹æˆ

**åŸºæœ¬æ–¹é‡**: **trie-rs**ã‚’æ¡ç”¨

```toml
[dependencies]
trie-rs = "0.4"
```

**ç†ç”±**:
1. å‰æ–¹ä¸€è‡´æ¤œç´¢APIãŒå®Œç’§ã«ç”¨é€”ã«åˆè‡´
2. 10-100ã‚¨ãƒ³ãƒˆãƒªã§ã‚‚åŠ¹ç‡çš„ã«å‹•ä½œ
3. æ—¥æœ¬èªã‚’å«ã‚€ãƒãƒ«ãƒãƒã‚¤ãƒˆæ–‡å­—ã«å¯¾å¿œ
4. Mapæ©Ÿèƒ½ã§ä»˜åŠ æƒ…å ±ã‚’ä¿æŒå¯èƒ½
5. å­¦ç¿’ã‚³ã‚¹ãƒˆãŒä½ãã€ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã—ã‚„ã™ã„

**ä»£æ›¿æ¡ˆ**: å‹•çš„ãªè¾æ›¸å¤‰æ›´ãŒå¿…è¦ãªã‚‰`radix_trie`

---

### ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹äºˆæ¸¬ï¼ˆ10-100ã‚¨ãƒ³ãƒˆãƒªè¦æ¨¡ï¼‰

| æ“ä½œ | trie-rs | radix_trie |
|-----|---------|-----------|
| æ§‹ç¯‰æ™‚é–“ | æ•°Î¼s | æ•°Î¼s |
| å‰æ–¹ä¸€è‡´æ¤œç´¢ | 1-10Î¼s | 1-10Î¼s |
| ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ | 1-10KB | 2-20KB |
| å®Œå…¨ä¸€è‡´ | 0.1-1Î¼s | 0.1-1Î¼s |

**çµè«–**: ã©ã¡ã‚‰ã‚‚å°è¦æ¨¡è¾æ›¸ã§ã¯ååˆ†é«˜é€Ÿã€‚ãƒ¡ãƒ¢ãƒªåŠ¹ç‡ã¨APIã®ä½¿ã„ã‚„ã™ã•ã§`trie-rs`ãŒå„ªä½ã€‚

---

## å‚è€ƒãƒªãƒ³ã‚¯

- [trie-rs GitHub](https://github.com/laysakura/trie-rs)
- [trie-rs docs.rs](https://docs.rs/trie-rs/)
- [trie-rs ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯](https://laysakura.github.io/trie-rs/criterion/report/)
- [radix_trie GitHub](https://github.com/michaelsproul/rust_radix_trie)
- [radix_trie docs.rs](https://docs.rs/radix_trie/)
- [fst GitHub](https://github.com/BurntSushi/fst)
- [aho-corasick GitHub](https://github.com/BurntSushi/aho-corasick)
