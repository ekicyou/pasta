(function(){define(["engine/aglio_dic","engine/olio_story_picker","test/testTalk","jquery"],function(a,b){return{test1:function(){var c,d,e,f;c=new b(a);f=c.nextStory(["tag3"]);Assert.that(f,Is.not.empty());e=f.next();Assert.that(e,Is.not.empty());e.closeScrap();e.run();d=a.selectScrap(["tag3","tag2"]);return Assert.that(d,Is.empty())},deferredTest1:function(){var c,d,e;c=$.Deferred();d=0;e=0;c.done(function(){return d++});c.fail(function(){return e++});c.resolve();c.resolve();c.reject();Assert.that(d,Is.equalTo(1));return Assert.that(e,Is.equalTo(0))},deferredTest2:function(){var c,d,e;c=$.Deferred();d=0;e=0;c.done(function(){return d++});c.fail(function(){return e++});c.reject();c.resolve();c.resolve();c.reject();Assert.that(d,Is.equalTo(0));return Assert.that(e,Is.equalTo(1))}}})}).call(this);