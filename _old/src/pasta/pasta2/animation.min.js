(function(){define(["engine/jsutil"],function(){return $(window).ready(function(){var a,b,c,d,e,f;
d={x:"0",y:"0",z:"0"};
c={x:"0",y:"0",z:"0"};
a=void 0;
b=function(i){var g,h,j,l;
g=false;
for(h in i){l=i[h];
if(c[h]!==l){g=true;
c[h]=l
}}if(!g){return
}j="x"+c.x;
j+=" y"+c.y;
j+=" z"+c.z;
$("div#surface").attr("class",j)
};
f=function(h){var g;
if(h==null){h=1000+19000*Math.random()
}if(d.y==="3"){return
}console.log("まばたき",[d.y]);
if(a!=null){a.reject();
a=void 0
}if(a!=null){return
}a=$.Deferred();
a.done(function(){b(d);
if(d.y==="3"){return
}return f()
});
a.progress(function(i){if(a.state()!=="pending"){return
}if(i!=null){b(i)
}if(!(i!=null)||i.y===d.y){a.resolve()
}});
g=function(j,k){var i;
i=setTimeout((function(){return a.notify(j)
}),k);
return a.always(function(){return clearTimeout(i)
})
};
g({y:"3",z:"1"},h);
g({y:"6",z:d.z},h+=100);
return g(void 0,h+=70)
};
e=function(h){var g,i;
b(h);
for(g in h){i=h[g];
d[g]=i
}console.log("サーフェスチェンジ→",[h,d]);
if((h!=null?h.y:void 0)==="4"){return f(0)
}else{return f(1000+2000*Math.random())
}};
$.extend({emote:{"パスタ：ノーマル":function(){return e({x:"0",y:"0",z:"0"})
},"パスタ：よそみ":function(){return e({x:"0",y:"1",z:"0"})
},"パスタ：ちらっ":function(){return e({x:"0",y:"2",z:"0"})
},"パスタ：めとじ":function(){return e({x:"0",y:"3",z:"1"})
},"パスタ：うわのそら":function(){return e({x:"0",y:"4",z:"0"})
},"パスタ：えっ？":function(){return e({x:"1",y:"5",z:"0"})
},"パスタ：ジトー":function(){return e({x:"0",y:"6",z:"0"})
},"パスタ：えへっ":function(){return e({x:"2",y:"0",z:"0"})
},"パスタ：ほほえみ":function(){return e({x:"2",y:"3",z:"0"})
},"パスタ：まばたき":function(){return f(0)
}}});
window.emotePasta=e;
e(0)
})
})
}).call(this);