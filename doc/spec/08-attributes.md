# 8. 属性（Attribute）

## 8.1 構文

```pest
属性行 ::= インデント ~ "＆" ~ key ~ "：" ~ value ~ NEWLINE
```

## 8.2 配置ルール

属性行は**シーン定義の直後にのみ配置可能**：

- **グローバルシーンの直後**: グローバルシーンに属性を付与
- **ローカルシーンの直後**: ローカルシーンに属性を付与
- **複数配置可能**: 同じシーンに複数の属性を連続して記述

**例**:
```pasta
＊グローバルシーン
  ＆author：Alice
  ＆genre：comedy
  ・ローカルシーン
    ＆priority：high
    ＆difficulty：3
    Alice：台詞内容
```

**セマンティクス**: 直前のシーンにメタデータを付与

**制約**: 属性行はシーン行の直後以外には配置できない。アクション行や変数代入行の後に属性行を置くことは文法エラー。

## 8.3 ファイルレベル属性（将来予約）

**構文**:
```pest
file_level_attribute ::= "＆" ~ key ~ "：" ~ value ~ NEWLINE
```

**配置ルール**: ファイル冒頭、すべてのグローバルシーン宣言より前に、インデントなしで配置

**セマンティクス**: ファイルレベル属性は、当該ファイル内のすべてのグローバルシーンに自動的に継承される

**例**:
```pasta
＆警報レベル：レッド

＊会話１
  ＆温度：暑い

＊会話２
  ＆温度：寒い
```

**結果**:
- グローバルシーン「会話１」: `＆警報レベル：レッド　＆温度：暑い`
- グローバルシーン「会話２」: `＆警報レベル：レッド　＆温度：寒い`

**実装状態**: 将来予約機能。現在は構文のみ許容し、セマンティクス実装は順次対応予定。

---

**関連章**:
- [Chapter 2: キーワード・マーカー定義](02-markers.md) - 属性マーカー
- [Chapter 4: Call の詳細仕様](04-call-spec.md) - フィルター（属性フィルター）
- [Chapter 5: リテラル型](05-literals.md) - 属性値の型解釈
