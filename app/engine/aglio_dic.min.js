(function(){define(["jquery","engine/jsutil"],function(){var b,f,a,c,d,e;
e=function(g){return typeof g==="function"
};
d=function(g){return Object.prototype.toString.call(g)==="[object Array]"
};
c=function(g){$("<div>").attr({id:g}).css({display:"none"}).appendTo("body");
return $("div#"+g)[0]
};
a=function(k,n,p){var l,m,o,q,g,h,i,j;
q=d(p)?p:[p];
for(g=0,i=q.length;
g<i;
g++){o=q[g];
l=$("<p/>");
for(h=0,j=n.length;
h<j;
h++){m=n[h];
l.addClass(m)
}l.attr({"data-value":o});
l.appendTo(k)
}};
f=(function(){function g(i,h){this.tags=i;
this.callback=h
}return g
})();
b=(function(){function g(){this.scraps=[];
this.scrapTags=c("scrapTags");
this.wordTags=c("wordTags")
}g.prototype.scrap=function(l,i){var j,k,h=this;
k=this.createScrap(l,i);
this.scraps.push(k);
j=this.scraps.length-1;
k.index=j;
k.next=function(){return h.getScrap(j+1)
};
a(this.scrapTags,l,j)
};
g.prototype.createScrap=function(i,h){return new f(i,h)
};
g.prototype.getScrap=function(h){if(h>=this.scraps.length){h=0
}return this.scraps[h]
};
g.prototype.word=function(h,i){return a(this.wordTags,h,i)
};
g.prototype.getScrapElement=function(l){var j,k,h,i;
j="div#scrapTags p";
for(h=0,i=l.length;
h<i;
h++){k=l[h];
j+="."+k
}return $(j)
};
g.prototype.selectScrap=function(k){var h,i,j;
h=this.getScrapElement(k);
if(h.length===0){return void 0
}i=Math.random()*h.length|0;
j=h.eq(i).data("value");
return this.scraps[j]
};
return g
})();
return b.instance=new b
})
}).call(this);