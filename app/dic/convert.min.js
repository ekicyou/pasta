(function(){var a,b,c,d,e,f,g,h,i,j,k,l;k=require("util");g=require("fs");f=require("cheerio/node_modules/entities");b=require("cheerio");console.log("漢字試験");j=g.readFileSync("evernote.enex","utf8");i={ignoreWhitespace:false,xmlMode:false,lowerCaseTags:false};l={ignoreWhitespace:false,xmlMode:true,lowerCaseTags:false};a=b.load(j,l);e=function(m){return f.encode(m,0)};c=function(m){return f.decode(m,2)};h=function(n){var m,o;m=b.load(n,l);o=d(m("en-note"));return o.trimRight()};d=function(p){var o,q,r,m,n;if(!(p!=null)){return""}r="";for(q=m=0,n=p.length;0<=n?m<n:m>n;q=0<=n?++m:--m){o=p[q];switch(o.type){case"text":r+=(c(o.data)).trimRight();break;case"comment":break;default:if(o.children!=null){r+=d(o.children)}}if(o.type==="tag"){switch(o.name){case"div":case"br":r+="\r\n"}}}return r};console.log("DOMツリーを出力");a("note").each(function(){var m,n,o,p,q;p=a("title",this);n=a("created",this);q=a("updated",this);o=a("tag",this).map(function(){return a(this).text().trim()});m=a("content",this).html();console.log("=====================================");console.log("■",p.text(),o);console.log(h(m));console.log();return console.log()});console.log("終了")}).call(this);